<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>+.=:+*=*+#:+</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>
<header class="site-header">
  <nav class="nav">
    <a class="brand" href="/profile" rel="noopener">Sewon Min</a>


    <div class="nav-group">
      <button id="indexToggle" class="nav-link is-button"
              aria-haspopup="true" aria-expanded="false" aria-controls="indexDropdown">
        Index
      </button>

      <!-- 드롭다운: 텍스트 주변만 흰 박스 -->
      <div id="indexDropdown" class="dropdown-lite">
        <ul class="dropdown-list">
          <li><a href="air/air.html">Air Poetry/Fish Poetry</a></li>
          <li><a href="face/face.html">Faces of Scattered Love</a></li>
          <li><a href="https://internet-river.neocities.org/" target="_blank" rel="noopener noreferrer">
....................<br>
....****............<br>
.**+**.***..........<br>
..*******...........<br>
....+**+.........**.<br>
...****************.<br>
..*****************.<br>
..***************+..<br>
...**************...<br>
....................<br>


</a></li>      
        </ul>
      </div>
    </div>

  </nav>
</header>

  <!-- 본문 컨테이너: 800px 중앙 정렬 -->
  <main class="container">
    <!-- 프로젝트 섹션 -->
    <section class="project">

      <!-- 인트로(기존 article 내용) -->
      <section class="intro">
        <p>
I work between architecture and language.
I write fiction and poetry.
I make books, maps, and websites.<br>
I am currently living in Brooklyn.
Please <a href="mailto:sewon.work@gmail.com">contact me</a>
      </section>

  
  </main>
</body>

<script>

  // 스크롤이 맨 아래에 도달하면 맨 위로 이동
  window.onscroll = function () {
    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
      window.scrollTo(0, 0);
    }
  };
  // iOS/Safari 호환: muted + playsinline이면 사용자 제스처 없이도 재생 가능
  const vids = document.querySelectorAll('.autoplay-video');

  // 실제 소스 지연 세팅
  const ensureSrc = v => {
    if (!v.dataset.src) return;
    if (!v.src || v.src === window.location.href) {
      v.src = v.dataset.src;          // data-src → src
      v.load();                       // 메타데이터 로드
    }
  };

  const io = new IntersectionObserver((entries) => {
    entries.forEach(async (entry) => {
      const v = entry.target;
      if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
        ensureSrc(v);                 // 화면에 충분히 보일 때만 로드
        try { await v.play(); } catch(e) {} // 자동재생 정책 회피(무음이므로 보통 OK)
      } else {
        v.pause();
      }
    });
  }, { threshold: [0, 0.5, 1] });

  vids.forEach(v => io.observe(v));


document.addEventListener('DOMContentLoaded', () => {
  const toggle = document.getElementById('indexToggle');
  const dd     = document.getElementById('indexDropdown');

  const open  = () => { dd.hidden = false; toggle.setAttribute('aria-expanded', 'true'); };
  const close = () => { dd.hidden = true;  toggle.setAttribute('aria-expanded', 'false'); };
  const isOpen = () => toggle.getAttribute('aria-expanded') === 'true';

  toggle.addEventListener('click', (e) => {
    e.preventDefault();
    isOpen() ? close() : open();
  });


</script>



</body>
